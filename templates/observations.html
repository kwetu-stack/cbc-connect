{% extends "base.html" %}

{% block content %}

<h2>Observations</h2>

{% for o in observations %}
  <div style="
      margin-bottom:12px;
      padding:12px;
      border:1px solid #ddd;
      border-radius:6px;
  ">
    <strong>{{ o.learner_name }}</strong>
    — {{ o.class_name }}<br>

    {{ o.activity }} • {{ o.skill }} • {{ o.level }}<br>

    <small>{{ o.created_at }}</small>

    <!-- ACTIONS -->
    <div style="margin-top:8px;">
      <!-- EDIT -->
      <a href="{{ url_for('edit_observation', observation_id=o.id) }}">
        Edit
      </a>

      <!-- DELETE (POST only, soft delete) -->
      <form
        action="{{ url_for('delete_observation', observation_id=o.id) }}"
        method="post"
        style="display:inline;"
        onsubmit="return confirm('Are you sure you want to delete this observation?');"
      >
        <button
          type="submit"
          style="
            color:red;
            border:none;
            background:none;
            cursor:pointer;
            margin-left:10px;
          "
        >
          Delete
        </button>
      </form>
    </div>
  </div>
{% else %}
  <p>No observations yet.</p>
{% endfor %}

{% endblock %}
